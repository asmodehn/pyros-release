<launch>
  <arg name="topic_name" default="test_topic"/>
  <arg name="test_message" default="testing"/>
  <arg name="echo_prefix" default="echo "/>

  <node name="pub_node" pkg="rostful_node" type="string_pub_node.py" output="screen">
    <param name="topic_name" value="$(arg topic_name)" type="str"/>
    <param name="test_message" value="$(arg test_message)" type="str"/>
  </node>

  <node name="echo_node" pkg="rostful_node" type="string_echo_node.py" output="screen">
    <param name="topic_name" value="$(arg topic_name)" type="str"/>
    <param name="echo_prefix" value="$(arg echo_prefix)" type="str"/>
  </node>

  <!-- params for tests are always absolute -->
  <param name="/stringTopicTest/topic_name" value="$(arg topic_name)" type="str"/>
  <param name="/stringTopicTest/test_message" value="$(arg test_message)" type="str"/>
  <param name="/stringTopicTest/echo_prefix" value="$(arg echo_prefix)" type="str"/>
  <test test-name="StringTopic" pkg="rostful_node" type="testStringTopic.py" name="stringTopicTest"/>
</launch>